<the-au-pair-navbar></the-au-pair-navbar>
<ion-content [fullscreen]="true">
    <div class="page-wrapper">
        <div class='parent-dashboard-div'>
            <p class='welcome-heading'>Welcome {{this.userDetails.fname}}</p>
            <div class="au-pair-div-wrapper" *ngIf='this.parentDetails.auPair !== ""'>
                <div class='au-pair-name'>Au Pair: {{this.auPairDetails.fname}} {{this.auPairDetails.sname}}</div>
                <div class="button-container">
                    <a title="Call Au Pair" href = 'tel:{{this.auPairDetails.number}}'><ion-icon name="call" class = 'call-icon'></ion-icon></a>
                    <a title="Message Au Pair" href = 'sms:{{this.auPairDetails.number}}'><ion-icon name="chatbubble-ellipses" class = 'message-icon'></ion-icon></a>
                    <button title="Rate Au Pair" style="all: unset; cursor: pointer;" (click)="openModal(this.parentDetails.auPair)"><ion-icon class="rating-icon" name="star"></ion-icon></button>
                    <button title="Report Au Pair" style="all: unset; cursor: pointer;" (click)="openReportModal()"><ion-icon class="report-icon" name="alert-circle"></ion-icon></button>
                    <button title="Terminate Employment" style="all: unset; cursor: pointer;" *ngIf="this.parentDetails.auPair !== ''"  (click)="presentAlert()"><ion-icon class="terminate-contract" name="person-remove"></ion-icon></button>
                </div>
            </div>

            <div class="no-au-pair-wrapper" *ngIf='this.parentDetails.auPair === ""'>Au Pair: No Au Pair employed</div>

            <div class="children-div-wrapper">

                <ion-card class='children-div' *ngFor="let child of children; let last = last">
                    <div class='child-name'>Child: {{ child.fname }}</div>
                    <div class='child-status'>Child Age: {{ getAge(child.dob) }}</div>
                </ion-card>

            </div>

            <p class='actions-heading'>Actions</p>

            <div class="actions-div-wrapper">
                <div class='actions-div'>
                    <div *ngIf="this.parentDetails.children.length === 0" style="opacity : 0.4;" class='action' id="addAct" (click)="checkHasChildren()">
                        <ion-icon name="add-circle-outline" class='action-icon '></ion-icon>
                        <div class='action-tag'>Add Activity</div>
                    </div>
                    <div *ngIf="this.parentDetails.children.length !== 0" class='action' id="addAct" (click)="checkHasChildren()">
                        <ion-icon name="add-circle-outline" class='action-icon '></ion-icon>
                        <div class='action-tag'>Add Activity</div>
                    </div>
                    <div *ngIf="this.parentDetails.children.length === 0" style="opacity : 0.4;" class='action' id="schedule" (click)="checkHasChildrenSchedule()">
                        <ion-icon name="calendar-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Schedule</div>
                    </div>
                    <div *ngIf="this.parentDetails.children.length !== 0" class='action' id="schedule" (click)="checkHasChildrenSchedule()">
                        <ion-icon name="calendar-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Schedule</div>
                    </div>
                    <div class='action' id="childDash" routerLink="/children-dashboard">
                        <ion-icon name="people-circle-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Children</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair === ''" style="opacity : 0.4;" class='action' id="auPairCost" (click)="checkHasEmployer()">
                        <ion-icon name="cash-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Au Pair Cost</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair !== ''" class='action' id="auPairCost" (click)="checkHasEmployer()">
                        <ion-icon name="cash-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Au Pair Cost</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair === ''" style="opacity : 0.4;" class='action' id="trackAuPair" (click)="checkHasEmployerTrack()">
                        <ion-icon name="compass" class='action-icon '></ion-icon>
                        <div class='action-tag '>Track Au Pair</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair !== ''" class='action' id="trackAuPair" (click)="checkHasEmployerTrack()">
                        <ion-icon name="compass" class='action-icon '></ion-icon>
                        <div class='action-tag '>Track Au Pair</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair !== '' || this.parentDetails.children.length === 0" style="opacity : 0.4;" class='action' id="exploreAuPairs" (click)="checkHasChildrenExplore()">
                        <ion-icon name="people-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Explore</div>
                    </div>
                    <div *ngIf="this.parentDetails.auPair === '' && this.parentDetails.children.length !== 0" class='action' id="exploreAuPairs" (click)="checkHasChildrenExplore()">
                        <ion-icon name="people-outline" class='action-icon '></ion-icon>
                        <div class='action-tag '>Explore</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ion-content>
